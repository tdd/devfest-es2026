import{_ as r}from"./Footnote-CCd25atx.js";import{_ as p}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-CJCCO03b.js";import{o as d,c as o,k as a,e as i,aa as s,g as y,l,m as g,q as u,s as f,B as k}from"./modules/vue-BX7JzBT9.js";import{I as c}from"./slidev/default-Xw43NCxQ.js";import{u as m,f as D}from"./slidev/context-D7rkpYLj.js";import"./modules/unplugin-icons--KMcx1dI.js";import"./index-DU1z9dPr.js";import"./modules/shiki-DcW1dHI5.js";const L={__name:"beyond.md__slidev_25",setup(E){const{$slidev:B,$nav:b,$clicksContext:h,$clicks:x,$page:_,$renderContext:A,$frontmatter:e}=m();return h.setup(),($,t)=>{const n=p,F=r;return d(),o(c,u(f(k(D)(k(e),24))),{default:a(()=>[t[2]||(t[2]=i("h1",null,[s("ES2025 ? Ressources garanties libérées "),i("span",{class:"stage"},"stade 3")],-1)),y(" March 23 "),t[3]||(t[3]=i("p",null,"Enfin un mécanisme pour garantir la libération des ressources !",-1)),t[4]||(t[4]=i("p",null,[s("Similaire au "),i("code",null,"using"),s(" de C#, au "),i("code",null,"with"),s(" de Python ou au "),i("em",null,"try-with-resources"),s(" de Java : nettoie les ressources de façon garantie quand la portée / fermeture lexicale disparaît.")],-1)),t[5]||(t[5]=i("p",null,[s("Existe en modes synchrone et asynchrone. Basé sur deux nouveaux symboles prédéfinis ("),i("code",null,"Symbol.dispose"),s(" et "),i("code",null,"Symbol.asyncDispose"),s("), pris en charge d’entrée de jeu par les timers et les flux.")],-1)),l(n,g({},{ranges:[]}),{default:a(()=>t[0]||(t[0]=[i("pre",{class:"shiki shiki-themes monokai slack-ochin slidev-code",style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339","--shiki-dark-bg":"#272822","--shiki-light-bg":"#FFF"}},[i("code",{class:"language-js"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#DA5221"}},"async"),i("span",{style:{"--shiki-dark":"#66D9EF","--shiki-dark-font-style":"italic","--shiki-light":"#0991B6","--shiki-light-font-style":"inherit"}}," function"),i("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}}," copy4K"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),i("span",{style:{"--shiki-dark":"#FD971F","--shiki-dark-font-style":"italic","--shiki-light":"#B1108E","--shiki-light-font-style":"inherit"}},"s1"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},", "),i("span",{style:{"--shiki-dark":"#FD971F","--shiki-dark-font-style":"italic","--shiki-light":"#B1108E","--shiki-light-font-style":"inherit"}},"s2"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#66D9EF","--shiki-dark-font-style":"italic","--shiki-light":"#0991B6","--shiki-light-font-style":"inherit"}},"  using"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," f1"),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}}," ="),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}}," await"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," fs"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"promises"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}},"open"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"s1"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},", "),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"constants"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"O_RDONLY"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"        f2"),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}}," ="),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}}," await"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," fs"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"promises"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}},"open"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"s2"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},", "),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"constants"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"O_WRONLY"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#66D9EF","--shiki-dark-font-style":"italic","--shiki-light":"#0991B6","--shiki-light-font-style":"inherit"}},"  const"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," buffer"),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}}," ="),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," Buffer"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}},"alloc"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),i("span",{style:{"--shiki-dark":"#AE81FF","--shiki-light":"#174781"}},"4096"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#66D9EF","--shiki-dark-font-style":"italic","--shiki-light":"#0991B6","--shiki-light-font-style":"inherit"}},"  const"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}}," { "),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"bytesRead"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}}," } "),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}},"="),i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}}," await"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," f1"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}},"read"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"buffer"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F92672","--shiki-light":"#7B30D0"}},"  await"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}}," f2"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"."),i("span",{style:{"--shiki-dark":"#A6E22E","--shiki-light":"#7EB233"}},"write"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"("),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"buffer"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},", "),i("span",{style:{"--shiki-dark":"#AE81FF","--shiki-light":"#174781"}},"0"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},", "),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#2F86D2"}},"bytesRead"),i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F8F8F2","--shiki-light":"#002339"}},"} "),i("span",{style:{"--shiki-dark":"#88846F","--shiki-dark-font-style":"inherit","--shiki-light":"#357B42","--shiki-light-font-style":"italic"}},"// 'f2' est libéré d'abord, 'f1' est libéré ensuite")])])],-1)])),_:1},16),l(F,null,{default:a(()=>t[1]||(t[1]=[i("p",null,[s("La proposition s’appelle "),i("em",null,"Explicit Resource Management"),s(". TypeScript 5.2+ et Babel 7.22+ la gèrent. Node.js l’implémente déjà en partie (timers et flux Node).")],-1)])),_:1})]),_:1},16)}}};export{L as default};
