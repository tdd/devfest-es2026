---
layout: cover
background: /covers/kira-auf-der-heide-v7jlNFuKF14-unsplash.jpg
---

# ES2024

Une belle Ã©dition, beaucoup de chosesâ€¦

---

# ES2024Â : Array grouping ğŸ‰

Encore un clou dans le cercueil de Lodash.

```js
const thisSlot = [
  { title: 'Server side WASM', mainTag: 'Languages' },
  { title: 'RÃ©duire lâ€™empreinte environnementale', mainTag: 'Discovery' },
  { title: 'Quoi de neuf dans ES2026Â ?', mainTag: 'Languages' },
  { title: 'Dynamisez vos backends avec HTMX', mainTag: 'Discovery' },
  // â€¦
]
schedule.group(({ mainTag }) => mainTag)
// {
//   Discovery: [{ title: 'RÃ©duire lâ€™empreinteâ€¦'â€¦ }, { title: 'Dynamisez vos backendsâ€¦'â€¦ }],
//   Languages: [{ title: 'Server side WASM'â€¦ }, { title: 'Quoi de neuf dans ES2026Â ?'â€¦ }],
//   ...
// }

schedule.groupToMap(({ mainTag }) => mainTag)
// => Pareil, **mais sous forme de Map** (donc on peut grouper sur nâ€™importe quel type de clÃ©Â !)
```

---

# ES2024Â : drapeau `v` sur les regex

Permet des **classes imbriquÃ©es** (une classe liste les possibilitÃ©s pour un caractÃ¨re), ce qui ouvre la porte aux **diffÃ©rences** et **intersections** de classes. Super cool.

Utilise le drapeau `v` au lieu du drapeau Unicode dâ€™ES2015 (`u`) quand tu as besoin de Ã§a.

```js
// Tous les chiffres dÃ©cimaux dâ€™Unicode, sauf ceux ASCII
text.match(/[\p{Decimal_Number}--[0-9]]/gv)

// Ou sinonÂ :
text.match(/[\p{Decimal_Number}--\p{ASCII}]/gv)

// Toutes les lettres Khmer (= script Khmer + propriÃ©tÃ© Letter)
text.match(/[\p{Script=Khmer}&&\p{Letter}]/gv)
```

---

# ES2024Â : `Promise.withResolvers()`

On avait l'habitude de faire Ã§a Ã  la main quand on voulait pouvoir manipuler le rÃ©sultat d'une promesse hors de la fonction de rappel du constructeur `Promise`.  Du coup c'est sympa de ne pas avoir besoin de jongler avec les portÃ©es, ou lorsqu'on s'appuie sur des API Ã©vÃ©nementielles pour notre traitement asynchrone.

```js
const { promise, resolve, reject } = Promise.withResolvers()
```

âš ï¸ **N'expose pas ces mÃ©thodes au code qui t'appelleÂ !** Elles ne sont lÃ  que pour simplifier ton implÃ©mentation, pas pour casser l'encapsulationÂ !

---

# Le reste dâ€™ES2024

C'est plutÃ´t du bas niveau Ã  destination des implÃ©menteurÂ·ses de bibliothÃ¨ques veluesÂ :

- `ArrayBuffer#resize(â€¦)`
- `ArrayBuffer#transfer(â€¦)`
- `Atomics.waitAsync(â€¦)`
- `String#isWellFormed()`
- `String#toWellFormed()`

Je t'en fais grÃ¢ceâ€¦